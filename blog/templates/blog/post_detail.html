{% extends "base.html" %}

{% load static %}

{% block content %}
<!-- Post structure HTML -->
<body>
    <div class="masthead">
        <div class="container">
            <div>
                <h1 class="post-title">{{ post.title }}</h1>
                <p>{{ post.content }}</p>
                <p><small>By {{ post.author }} on {{ post.created_on }}</small></p>
                <button class="post-returnhome-button"><a href="{% url 'home' %}">Return to home page</a></button>
            </div>

            <ul>
                {% for comment in comments %}
                <li>
                    <strong>{{ comment.author }}</strong> on {{ comment.created_on }}<br>
                    {{ comment.body }}
                </li>
                {% endfor %}
            </ul>
            <h2>Add a comment here...</h2>
            {% if request.user.is_authenticated %}
            <form method="post" class="comment-form">
                {% csrf_token %}
                {{ comment_form.as_p }}
                <button class="add-commentbutton" type="submit">Add Comment</button>
                <button type="submit" class="view-postlist-button"><a href="{% url 'blog' %}">View posts here!</a></button>
            </form>
            {% else %}
            <p>You need to <a href="{% url 'login' %}">log in</a> to comment.</p>
            {% endif %}
        </div>
    </div>
</body>
{% endblock %}